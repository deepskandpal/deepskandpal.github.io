<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>404EngineerNotFound</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.31/dist/flexsearch.bundle.js></script><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script></head><body>\<header><nav><div class=logo><a href=/>404EngineerNotFound</a></div><ul class=main-nav><li class="nav-item has-dropdown"><a href=#>Writings <i class="fas fa-caret-down fa-xs"></i></a><ul class=dropdown-menu><li class=dropdown-item><a href=/stories/>Stories</a></li><li class=dropdown-item><a href=/thoughts/>Thoughts</a></li><li class=dropdown-item><a href=/fitness-log/>Fitness Log</a></li></ul></li><li class="nav-item has-dropdown"><a href=#>Tech Lab <i class="fas fa-caret-down fa-xs"></i></a><ul class=dropdown-menu><li class=dropdown-item><a href=/papershelf/>Papershelf</a></li><li class=dropdown-item><a href=/creations/>Creations</a></li><li class=dropdown-item><a href=/dsa-log/>DSA Log</a></li><li class=dropdown-item><a href=/tech-writings/>Technical Writings</a></li></ul></li><li class=nav-item><a href=/bookshelf/>Bookshelf</a></li><li class=nav-item><a href=/about/>About</a></li></ul><div class=search-container><input type=search id=search-input placeholder=Search...>
<i class="fa fa-search"></i></div></nav><div id=search-results-container><ul id=search-results></ul></div></header><main><div class=single-content-wrapper><aside class=article-sidebar><nav><h4>On this page</h4><nav id=TableOfContents><ul><li><a href=#why-left--right-and-not-left--right>Why <code>left &lt;= right</code> and not <code>left &lt; right</code></a></li></ul></nav></nav></aside><article class=dsa-single><h1></h1><div class=dsa-meta><p><strong>Difficulty:</strong> <span class=difficulty->N/A</span> |
<strong>Solved:</strong> January 1, 0001</p></div><div class=dsa-content><p>[[Arrays]]</p><h1 id=problem>Problem</h1><p>Imagine I have a list of numbers, sorted from smallest to largest. I will not show you the list, but I will answer questions about it. Your goal is to devise a strategy to find out if a specific number, your &ldquo;target,&rdquo; is in my list using the minimum number of questions.</p><p>The list is: <code>[2, 5, 8, 12, 16, 23, 38, 56, 72, 91]</code>
The list has 10 items. Indices are 0 through 9.<br>Your target number to find is 23.</p><h1 id=brainstorming>Brainstorming</h1><ul><li><p><strong>Pre-condition:</strong> The array must be <strong>sorted</strong>.</p></li><li><p><strong>Core Strategy:</strong> <strong>Divide and Conquer</strong> by checking the middle element.</p></li><li><p><strong>Variables:</strong> You implicitly described them: a left pointer, a right pointer (which define the search space), and a mid pointer calculated from them.</p></li><li><p><strong>Outcomes:</strong></p><ol><li><code>target == nums[mid]</code> -> <strong>Found.</strong> Return mid.</li><li><code>target &lt; nums[mid]</code> -> <strong>Search Left.</strong> The new search space becomes left to mid - 1.</li><li><code>target > nums[mid]</code> -> <strong>Search Right.</strong> The new search space becomes mid + 1 to right.</li></ol></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>nums <span style=color:#f92672>=</span> [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>16</span>, <span style=color:#ae81ff>23</span>, <span style=color:#ae81ff>38</span>, <span style=color:#ae81ff>56</span>, <span style=color:#ae81ff>72</span>, <span style=color:#ae81ff>91</span>]
</span></span><span style=display:flex><span>target <span style=color:#f92672>=</span> <span style=color:#ae81ff>38</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>binary_search</span>(nums:List[int], target:int) <span style=color:#f92672>-&gt;</span> bool:
</span></span><span style=display:flex><span>	left <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>	right <span style=color:#f92672>=</span> len(nums) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>while</span> left <span style=color:#f92672>&lt;=</span> right:
</span></span><span style=display:flex><span>		mid <span style=color:#f92672>=</span> (left <span style=color:#f92672>+</span> right )<span style=color:#f92672>//</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> target <span style=color:#f92672>==</span> nums[mid]
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>elif</span> target <span style=color:#f92672>&gt;</span> nums[mid]: <span style=color:#75715e># number is in the right side</span>
</span></span><span style=display:flex><span>			left <span style=color:#f92672>=</span> mid <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>else</span>: <span style=color:#75715e># the number is in the left side</span>
</span></span><span style=display:flex><span>			right <span style=color:#f92672>=</span> mid <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> 
</span></span><span style=display:flex><span>			
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>binary_search(nums, target)
</span></span></code></pre></div><h2 id=why-left--right-and-not-left--right>Why <code>left &lt;= right</code> and not <code>left &lt; right</code></h2><p>lets walk this point with a concrete example. It&rsquo;s a subtle but critical detail.</p><p>Your current, correct code is:
<code>while left &lt; right:</code>
<code>...</code>
<code>else: # target &lt; nums[mid]</code>
<code>right = mid - 1</code></p><p>Let&rsquo;s imagine you wrote this instead (The <strong>Incorrect Version</strong> for this trace):
<code>while left &lt; right:</code>
<code>...</code>
<code>else: # target &lt; nums[mid]</code>
<code>right = mid</code></p><p>Now, let&rsquo;s trace this <strong>Incorrect Version</strong> with a simple scenario where the target is not in the list, but is smaller than all remaining elements.</p><ul><li><code>nums = [8, 12]</code></li><li><code>target = 5</code></li></ul><p><strong>Setup:</strong></p><ul><li><code>left = 0</code></li><li><code>right = 2</code> (because you initialized it to <code>len(nums)</code>)</li></ul><p><strong>Iteration 1:</strong></p><ul><li><code>while 0 &lt; 2:</code> (True)</li><li><code>mid = (0 + 2) // 2 = 1</code></li><li><code>nums[mid]</code> is <code>nums[1]</code>, which is <code>12</code>.</li><li><code>target</code> (5) is less than <code>nums[mid]</code> (12).</li><li>The <code>else</code> block is executed.</li><li><strong>With the incorrect code, you set <code>right = mid</code></strong>, so <code>right</code> becomes <code>1</code>.</li></ul><p><strong>Iteration 2:</strong></p><ul><li><code>left</code> is <code>0</code>, <code>right</code> is <code>1</code>.</li><li><code>while 0 &lt; 1:</code> (True)</li><li><code>mid = (0 + 1) // 2 = 0</code></li><li><code>nums[mid]</code> is <code>nums[0]</code>, which is <code>8</code>.</li><li><code>target</code> (5) is less than <code>nums[mid]</code> (8).</li><li>The <code>else</code> block is executed.</li><li><strong>With the incorrect code, you set <code>right = mid</code></strong>, so <code>right</code> becomes <code>0</code>.</li></ul><p><strong>Iteration 3:</strong></p><ul><li><code>left</code> is <code>0</code>, <code>right</code> is <code>0</code>.</li><li><code>while 0 &lt; 0:</code> is <strong>False</strong>. The loop terminates.</li><li>The function returns <code>False</code>, which is correct.</li></ul><p>So far, it seems to work. But let&rsquo;s try a different loop condition. What if your <code>while</code> loop condition was <code>while left &lt;= right</code>? This is a very common way to write binary search.</p><p>Let&rsquo;s re-trace the <strong>Incorrect Version</strong> (<code>right = mid</code>) but with the <code>while left &lt;= right</code> loop condition.</p><ul><li><code>nums = [8, 12]</code></li><li><code>target = 5</code></li></ul><p><strong>Setup:</strong></p><ul><li><code>left = 0</code></li><li><code>right = 1</code> (let&rsquo;s assume you fixed <code>right</code> to be <code>len(nums) - 1</code> for this trace)</li></ul><p><strong>Iteration 1:</strong></p><ul><li><code>while 0 &lt;= 1:</code> (True)</li><li><code>mid = (0 + 1) // 2 = 0</code></li><li><code>nums[mid]</code> is <code>nums[0]</code>, which is <code>8</code>.</li><li><code>target</code> (5) is less than <code>nums[mid]</code> (8).</li><li>The <code>else</code> block is executed.</li><li><strong>With the incorrect code, you set <code>right = mid</code></strong>, so <code>right</code> becomes <code>0</code>.</li></ul><p><strong>Iteration 2:</strong></p><ul><li><code>left</code> is <code>0</code>, <code>right</code> is <code>0</code>.</li><li><code>while 0 &lt;= 0:</code> (True)</li><li><code>mid = (0 + 0) // 2 = 0</code></li><li><code>nums[mid]</code> is <code>nums[0]</code>, which is <code>8</code>.</li><li><code>target</code> (5) is less than <code>nums[mid]</code> (8).</li><li>The <code>else</code> block is executed.</li><li><strong>With the incorrect code, you set <code>right = mid</code></strong>, so <code>right</code> becomes <code>0</code>.</li></ul><p><strong>The Problem:</strong>
<code>left</code> is <code>0</code>, <code>right</code> is <code>0</code>. You&rsquo;re back in the exact same state as the start of Iteration 2. You will now loop forever. This is an <strong>infinite loop</strong>.</p><p><strong>Conclusion:</strong>
Setting <code>right = mid - 1</code> (and <code>left = mid + 1</code>) is crucial because it guarantees that the search space is <strong>always getting smaller</strong> in every single iteration. If you set <code>right = mid</code>, there exists a case (when <code>left</code> and <code>mid</code> are the same) where the search space does not shrink, which can lead to an infinite loop depending on your <code>while</code> condition.</p><p>Your implementation with <code>while left &lt; right</code> and <code>right = len(nums)</code> is a valid pattern (often used in C++ STL&rsquo;s <code>lower_bound</code>), but it has to be paired with <code>right = mid</code> and <code>left = mid + 1</code>. The more common pattern, and perhaps easier to reason about, is <code>left &lt;= right</code> with <code>right = mid - 1</code>.</p><p>Does that trace clarify why <code>right = mid - 1</code> is so important for guaranteeing progress and preventing infinite loops?</p></div></article></div></main><footer><p>&copy; 2025 Deepanshu Kandpal</p></footer><a id=scrollTopBtn title="Go to top"><i class="fa-solid fa-arrow-up"></i></a>
<script src=/js/search.js></script><script>var mybutton=document.getElementById("scrollTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.classList.add("show"):mybutton.classList.remove("show")}mybutton.onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script>document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("code.language-mermaid");e.forEach(function(e,t){const n=document.createElement("div");n.className="mermaid",n.textContent=e.textContent,n.id="mermaid-"+t,e.parentNode.parentNode.replaceChild(n,e.parentNode)}),mermaid.initialize({startOnLoad:!0,theme:"default",themeVariables:{primaryColor:"#4a90e2",primaryTextColor:"#333",primaryBorderColor:"#4a90e2",lineColor:"#333"}}),mermaid.init()})</script></body></html>