<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>404EngineerNotFound</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.31/dist/flexsearch.bundle.js></script><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script></head><body>\<header><nav><div class=logo><a href=/>404EngineerNotFound</a></div><ul class=main-nav><li class="nav-item has-dropdown"><a href=#>Writings <i class="fas fa-caret-down fa-xs"></i></a><ul class=dropdown-menu><li class=dropdown-item><a href=/stories/>Stories</a></li><li class=dropdown-item><a href=/thoughts/>Thoughts</a></li><li class=dropdown-item><a href=/fitness-log/>Fitness Log</a></li></ul></li><li class="nav-item has-dropdown"><a href=#>Tech Lab <i class="fas fa-caret-down fa-xs"></i></a><ul class=dropdown-menu><li class=dropdown-item><a href=/papershelf/>Papershelf</a></li><li class=dropdown-item><a href=/creations/>Creations</a></li><li class=dropdown-item><a href=/dsa-log/>DSA Log</a></li><li class=dropdown-item><a href=/tech-writings/>Technical Writings</a></li></ul></li><li class=nav-item><a href=/bookshelf/>Bookshelf</a></li><li class=nav-item><a href=/about/>About</a></li></ul><div class=search-container><input type=search id=search-input placeholder=Search...>
<i class="fa fa-search"></i></div></nav><div id=search-results-container><ul id=search-results></ul></div></header><main><div class=single-content-wrapper><aside class=article-sidebar><nav><h4>On this page</h4><nav id=TableOfContents></nav></nav></aside><article class=dsa-single><h1></h1><div class=dsa-meta><p><strong>Difficulty:</strong> <span class=difficulty->N/A</span> |
<strong>Solved:</strong> January 1, 0001</p></div><div class=dsa-content><p>[[Linked List Stacks and Queues a Primer]]</p><h1 id=problem>Problem</h1><p>You are given a string representing an arithmetic expression in <strong>Reverse Polish Notation (RPN)</strong>. RPN is a way of writing expressions where the operator comes after its operands.</p><ul><li>The expression 3 + 4 becomes 3,4,+.</li><li>The expression (3 + 4) * 2 becomes 3,4,+,2,*.</li></ul><p><strong>Your task:</strong> Write a function evaluate_rpn(expression) that takes this string, evaluates it, and returns the final integer result. You can assume the expression is always valid.</p><h1 id=brainstorming>Brainstorming</h1><p>This is a classic and direct application of STACK data structure for it clearly depends on the LIFO ( last in first out ) operation</p><p>lets do it by hand and simulate it for  3,4,+. (3+4)</p><ol><li>you pick 3 see its a number you add to you stack</li><li>you see 4 see its a number you add it to your stock</li><li>you see <code>+</code> its an operator , now we need to do the operation for the 2 values in the stack<ol><li>you pop 4 its your first operand <code>y</code></li><li>you pop again this time its 3 your second operand <code>x</code></li><li>Now you do the operation ( 4 + 3) = 7 you push the result to the stack</li><li>You move ahead</li></ol></li><li>The value at the top of the stack after all the operations is your final answer</li></ol><p>Lets try to do the code for it</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> operator 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>expression <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;3,4,+,2,*,1,+&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>evaluate_rfpn</span>(expression:str):
</span></span><span style=display:flex><span>	intermediate_result <span style=color:#f92672>=</span> [] <span style=color:#75715e># initalize your stack</span>
</span></span><span style=display:flex><span>	<span style=color:#75715e># We don&#39;t need the operator module, lambdas are great here </span>
</span></span><span style=display:flex><span>	operators <span style=color:#f92672>=</span> { <span style=color:#e6db74>&#34;+&#34;</span>: <span style=color:#66d9ef>lambda</span> y, x: x <span style=color:#f92672>+</span> y, 
</span></span><span style=display:flex><span>				<span style=color:#e6db74>&#34;-&#34;</span>: <span style=color:#66d9ef>lambda</span> y, x: x <span style=color:#f92672>-</span> y, 
</span></span><span style=display:flex><span>				<span style=color:#e6db74>&#34;*&#34;</span>: <span style=color:#66d9ef>lambda</span> y, x: x <span style=color:#f92672>*</span> y, 
</span></span><span style=display:flex><span>				<span style=color:#e6db74>&#34;/&#34;</span>: <span style=color:#66d9ef>lambda</span> y, x: int(x <span style=color:#f92672>/</span> y) 
</span></span><span style=display:flex><span>				<span style=color:#75715e># Handle integer division }</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>	operators = {&#34;+&#34;:operator.add, 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>				&#34;/&#34;:operator.truediv, 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>				&#34;*&#34;:operator.mul, 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>				 &#34;-&#34;:operator.sub} # using a hash set for (O(1)) lookup
</span></span></span><span style=display:flex><span><span style=color:#e6db74>	&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>	tokens <span style=color:#f92672>=</span> expression<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;,)</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> token <span style=color:#f92672>in</span> expression:
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> token <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> operators:
</span></span><span style=display:flex><span>			intermediate_result<span style=color:#f92672>.</span>append(int(token)) <span style=color:#75715e># add the number as int</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>			operation <span style=color:#f92672>=</span> operators[token]
</span></span><span style=display:flex><span>			x <span style=color:#f92672>=</span> intermediate_result<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>			y <span style=color:#f92672>=</span> intermediate_result<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>			result <span style=color:#f92672>=</span> operation(int(x),int(y))
</span></span><span style=display:flex><span>			intermediate_result<span style=color:#f92672>.</span>append(result)
</span></span><span style=display:flex><span>	 
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> intermediate_result<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>			
</span></span><span style=display:flex><span>	
</span></span></code></pre></div><h1 id=key-learnings>Key learnings</h1><p>How to store <code>operations in a hash dict</code></p><p>The problem in the book (and most versions of this problem) specifies that division should truncate towards zero, which is what standard integer division does. Your use of operator.truediv will produce a float (e.g., 6 / -132 would give -0.045&mldr;). We should use integer division.</p><p><strong>The Fix:</strong> Python&rsquo;s integer division operator is //. We can implement this with a lambda function in our dictionary.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># A lambda function to handle integer division correctly</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;/&#39;</span>: <span style=color:#66d9ef>lambda</span> y, x: int(x <span style=color:#f92672>/</span> y)
</span></span></code></pre></div></div></article></div></main><footer><p>&copy; 2025 Deepanshu Kandpal</p></footer><a id=scrollTopBtn title="Go to top"><i class="fa-solid fa-arrow-up"></i></a>
<script src=/js/search.js></script><script>var mybutton=document.getElementById("scrollTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.classList.add("show"):mybutton.classList.remove("show")}mybutton.onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script>document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("code.language-mermaid");e.forEach(function(e,t){const n=document.createElement("div");n.className="mermaid",n.textContent=e.textContent,n.id="mermaid-"+t,e.parentNode.parentNode.replaceChild(n,e.parentNode)}),mermaid.initialize({startOnLoad:!0,theme:"default",themeVariables:{primaryColor:"#4a90e2",primaryTextColor:"#333",primaryBorderColor:"#4a90e2",lineColor:"#333"}}),mermaid.init()})</script></body></html>