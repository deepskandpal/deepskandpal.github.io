<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>404EngineerNotFound</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.31/dist/flexsearch.bundle.js></script><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script></head><body>\<header><nav><div class=logo><a href=/>404EngineerNotFound</a></div><ul class=main-nav><li class="nav-item has-dropdown"><a href=#>Writings <i class="fas fa-caret-down fa-xs"></i></a><ul class=dropdown-menu><li class=dropdown-item><a href=/stories/>Stories</a></li><li class=dropdown-item><a href=/thoughts/>Thoughts</a></li><li class=dropdown-item><a href=/fitness-log/>Fitness Log</a></li></ul></li><li class="nav-item has-dropdown"><a href=#>Tech Lab <i class="fas fa-caret-down fa-xs"></i></a><ul class=dropdown-menu><li class=dropdown-item><a href=/papershelf/>Papershelf</a></li><li class=dropdown-item><a href=/creations/>Creations</a></li><li class=dropdown-item><a href=/dsa-log/>DSA Log</a></li><li class=dropdown-item><a href=/tech-writings/>Technical Writings</a></li></ul></li><li class=nav-item><a href=/bookshelf/>Bookshelf</a></li><li class=nav-item><a href=/about/>About</a></li></ul><div class=search-container><input type=search id=search-input placeholder=Search...>
<i class="fa fa-search"></i></div></nav><div id=search-results-container><ul id=search-results></ul></div></header><main><div class=single-content-wrapper><aside class=article-sidebar><nav><h4>On this page</h4><nav id=TableOfContents><ul><li><ul><li><a href=#imagining-substrings-and-the-dp-grid>Imagining &ldquo;Substrings&rdquo; and the DP Grid</a></li></ul></li></ul></nav></nav></aside><article class=dsa-single><h1></h1><div class=dsa-meta><p><strong>Difficulty:</strong> <span class=difficulty->N/A</span> |
<strong>Solved:</strong> January 1, 0001</p></div><div class=dsa-content><p>[[Dynamic Programming Primer]]</p><h1 id=problem>Problem</h1><p>You are given one string, s. Your goal is to find the longest <strong>substring</strong> (a contiguous block) that is a palindrome.</p><p><code>Example: s = "babads". The answer is "bab" (or "aba"). Length is 3.</code></p><h1 id=brain-storming>Brain storming</h1><p>lets start with the basics a substring of string <code>s</code> is defined as <code>s[start:end]</code> start and end being the index inside this string that represent this substring. Why do we care about this? its because for a palindrome this play a very important role.</p><p>A palindrome is defined as a string where its reverse is also a valid string. for eg <code>racecar</code> is a palindrome since its reverse <code>racecar</code> is also a valid string.</p><p>So whatever logic we come up with we need both the start index and the end index of the subsequence to determine palindrome. Just like the previous problem [[Longest Common Subsequence]] if we need 2 variables to define a subproblem then its a 2D dynamic programming problem</p><h3 id=imagining-substrings-and-the-dp-grid>Imagining &ldquo;Substrings&rdquo; and the DP Grid</h3><p>Okay, we&rsquo;ve established it&rsquo;s 2D. But the meaning of the grid is different now. It&rsquo;s not about two different strings; it&rsquo;s about one string.</p><p>Let <code>s = "babad"</code>. Our <code>dp</code> grid will be <code>5 x 5</code>.</p><p>The grid is a lookup table for the answer to the question:<code>DP[i][j]</code> <strong>&ldquo;Is this substring a palindrome?&rdquo;</strong></p><pre tabindex=0><code>      b   a   b   a   d   (end index, j)
    +---+---+---+---+---+
b 0 | . | . | . | . | . |
    +---+---+---+---+---+
a 1 |   | . | . | . | . |
    +---+---+---+---+---+
b 2 |   |   | . | . | . |
    +---+---+---+---+---+
a 3 |   |   |   | . | . |
    +---+---+---+---+---+
d 4 |   |   |   |   | . |
    +---+---+---+---+---+

^
|
(start index, i)
</code></pre><p><em>(Note: We only care about the upper half of the grid where <code>i &lt;= j</code>)</em> why ? since i is the start index and j is the end index a string for eg <code>s[3][1]</code> doesn&rsquo;t make any sense as it will be empty</p><p>Let&rsquo;s pick an arbitrary cell: <code>dp[1][3]</code>.</p><ol><li><p><strong>What does it mean?</strong></p><ul><li><code>i=1</code> is the start index.</li><li><code>j=3</code> is the end index.</li><li>This cell corresponds to the substring <code>s[1...3]</code>, which is <code>"aba"</code>.</li><li><code>dp[1][3]</code> will hold the boolean value <code>True</code> because <code>"aba"</code> is a palindrome.</li></ul></li><li><p><strong>How do we calculate it? (The Story of a Single Cell)</strong>
To solve for <code>dp[i][j]</code>, we need a rule. For any string to be a palindrome, two things must be true.</p><ul><li><strong>Prompt 2 (The Recurrence):</strong>
Let&rsquo;s figure out <code>dp[1][3]</code> (<code>"aba"</code>).<ol><li><strong>Condition 1 (The Outsides):</strong> What must be true about the first and last characters of the substring <code>s[i...j]</code>?</li><li><strong>Condition 2 (The Insides):</strong> If the outer characters match, what must be true about the string <em>between</em> them? For <code>"aba"</code>, the inner string is <code>"b"</code>. For <code>"racecar"</code>, it&rsquo;s <code>"aceca"</code>. How do we know if this inner string is a palindrome? (Hint: We can look up the answer for the inner substring <code>s[i+1...j-1]</code> in our <code>dp</code> table. Which cell is that?)
Combine these two to form the recurrence: <code>dp[i][j] = (condition_1) AND (condition_2)</code>.</li></ol></li></ul></li><li><p><strong>The &ldquo;First Move&rdquo; Test (Base Cases):</strong>
Our recurrence works for strings of length 3 or more. But what about the simplest cases?</p><ul><li><strong>Prompt 3 (The Base Cases):</strong><ul><li>What about <code>dp[i][i]</code>? (A substring of length 1, like <code>"b"</code>). Is it a palindrome?</li><li>What about <code>dp[i][i+1]</code>? (A substring of length 2, like <code>"ba"</code> or <code>"bb"</code>). Under what <em>one</em> condition is it a palindrome?</li></ul></li></ul></li><li><p><strong>The Visualisation (Table Fill Order):</strong>
Look at your recurrence. To compute <code>dp[i][j]</code>, you need <code>dp[i+1][j-1]</code>.</p><ul><li><code>i+1</code> is the row <strong>below</strong> you.</li><li><code>j-1</code> is the column to the <strong>left</strong> of you.</li><li><strong>Prompt 4 (The Order):</strong> If you need the answer from a cell &ldquo;below-left&rdquo; of you, can you fill the table in the standard top-to-bottom, left-to-right order? What order must you fill it in?</li></ul></li></ol><p>This is not your typical tabulation approach now its your memoization form of DP since <code>dp[i][j]</code> depends upon <code>dp[i+1]</code> a future value. So what we need to do is calculate values and then write down the answers as we build them. Also we would not be able to build this in the standard flow of DP grid (left-> right) (top->bottom)</p><p>Lets try to define the algorithm</p><ol><li>Get the string length lets call it <code>n</code></li><li>initialise a dp grid of <code>nxn</code> with <code>false</code> value as default</li><li>lets first calculate for base cases values<ol><li>string of length 1 , by definition they are palindrome</li><li>string of length 2, if the first and the last characters are same then they are palindrome</li><li>Store both these strings values in your DP grid hence getting are base cases jotted down</li></ol></li><li>now for string of length 3 , we know for a fact we cannot go the standard way then how should we do it<ol><li>One way to do it try to fill the table in reverse bottom to top , right to left but we might face challenges writing that code</li><li>The other way is to <code>solve for length</code> something we are already doing for strings of length 1 and 2 , we will try to solve for length of 3 and greater (till n+1) we can compute the start index as <code>(n - length +1)</code><ol><li>lets take &ldquo;babads&rdquo; as example<ol><li><code>n= 6</code> <code>length = 3</code> <code>b</code> then the substring is <code>aba</code> with its start index as <code>b</code> at 0 and end index <code>d</code> is 4 then we will iterate for each string of this length inside the string as <code>for i in range(n-length +1)</code> . here we will check for start index <code>0 , 1, 2, 3</code> . with these start indexes we will calculate the end index <code>j</code> as <code>i + length -1 </code>so the j becomes <code>2, 3,4,5</code> hence the substrings to check become<ol><li><code>s[0:2] = bab</code></li><li><code>s[1:3] = aba</code></li><li><code>s[2:4] = bad</code></li><li><code>s[3:5] = ads</code></li></ol></li></ol></li><li>Now we will have our substring to check with the <code>outer</code> and <code>inner</code> logic<ol><li>the outer logic will be simple <code>s[i] == s[j]</code></li><li>the inner logic would be <code>dp[i+1][j-1]</code></li><li>hence the final logic is <code>dp[i][j] = (s[i]==s[j] and dp[i+1][j-1]</code></li></ol></li></ol></li></ol></li></ol><p>Below is the python implementation</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>s <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;babads&#34;</span>
</span></span><span style=display:flex><span>n <span style=color:#f92672>=</span> len(s)
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> n <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># return s # Handle empty or single-character strings</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 1. Initialization</span>
</span></span><span style=display:flex><span>dp <span style=color:#f92672>=</span> [[<span style=color:#66d9ef>False</span> <span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(n)] <span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(n)]
</span></span><span style=display:flex><span>longest_start <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>max_len <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#75715e># Default answer is a single character</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 2. Base Case 1: Substrings of length 1</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n):
</span></span><span style=display:flex><span>    dp[i][i] <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 3. Base Case 2: Substrings of length 2</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> s[i] <span style=color:#f92672>==</span> s[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>]:
</span></span><span style=display:flex><span>        dp[i][i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># If we find a length-2 palindrome, update our answer</span>
</span></span><span style=display:flex><span>        longest_start <span style=color:#f92672>=</span> i
</span></span><span style=display:flex><span>        max_len <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 4. Main Logic: Substrings of length 3 and greater</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> length <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>3</span>, n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n <span style=color:#f92672>-</span> length <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>        j <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> length <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e># --- The Core Recurrence ---</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># First, check if the inner substring is a palindrome AND</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># if the outer characters match.</span>
</span></span><span style=display:flex><span>        is_inner_palindrome <span style=color:#f92672>=</span> dp[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> is_inner_palindrome <span style=color:#f92672>and</span> s[i] <span style=color:#f92672>==</span> s[j]:
</span></span><span style=display:flex><span>            <span style=color:#75715e># If both are true, then the whole substring is a palindrome</span>
</span></span><span style=display:flex><span>            dp[i][j] <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#75715e># --- The Tracking Logic ---</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># Now that we&#39;ve confirmed s[i..j] is a palindrome,</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># check if it&#39;s the new longest one.</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> length <span style=color:#f92672>&gt;</span> max_len:
</span></span><span style=display:flex><span>                max_len <span style=color:#f92672>=</span> length
</span></span><span style=display:flex><span>                longest_start <span style=color:#f92672>=</span> i
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 5. Return the result</span>
</span></span><span style=display:flex><span>print(s[longest_start : longest_start <span style=color:#f92672>+</span> max_len])
</span></span><span style=display:flex><span>	 
</span></span></code></pre></div></div></article></div></main><footer><p>&copy; 2025 Deepanshu Kandpal</p></footer><a id=scrollTopBtn title="Go to top"><i class="fa-solid fa-arrow-up"></i></a>
<script src=/js/search.js></script><script>var mybutton=document.getElementById("scrollTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.classList.add("show"):mybutton.classList.remove("show")}mybutton.onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script>document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("code.language-mermaid");e.forEach(function(e,t){const n=document.createElement("div");n.className="mermaid",n.textContent=e.textContent,n.id="mermaid-"+t,e.parentNode.parentNode.replaceChild(n,e.parentNode)}),mermaid.initialize({startOnLoad:!0,theme:"default",themeVariables:{primaryColor:"#4a90e2",primaryTextColor:"#333",primaryBorderColor:"#4a90e2",lineColor:"#333"}}),mermaid.init()})</script></body></html>