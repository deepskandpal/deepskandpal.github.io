<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>404EngineerNotFound</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.31/dist/flexsearch.bundle.js></script><script src=https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js></script></head><body>\<header><nav><div class=logo><a href=/>404EngineerNotFound</a></div><ul class=main-nav><li class="nav-item has-dropdown"><a href=#>Writings <i class="fas fa-caret-down fa-xs"></i></a><ul class=dropdown-menu><li class=dropdown-item><a href=/stories/>Stories</a></li><li class=dropdown-item><a href=/thoughts/>Thoughts</a></li><li class=dropdown-item><a href=/fitness-log/>Fitness Log</a></li></ul></li><li class="nav-item has-dropdown"><a href=#>Tech Lab <i class="fas fa-caret-down fa-xs"></i></a><ul class=dropdown-menu><li class=dropdown-item><a href=/papershelf/>Papershelf</a></li><li class=dropdown-item><a href=/creations/>Creations</a></li><li class=dropdown-item><a href=/dsa-log/>DSA Log</a></li><li class=dropdown-item><a href=/tech-writings/>Technical Writings</a></li></ul></li><li class=nav-item><a href=/bookshelf/>Bookshelf</a></li><li class=nav-item><a href=/about/>About</a></li></ul><div class=search-container><input type=search id=search-input placeholder=Search...>
<i class="fa fa-search"></i></div></nav><div id=search-results-container><ul id=search-results></ul></div></header><main><div class=single-content-wrapper><aside class=article-sidebar><nav><h4>On this page</h4><nav id=TableOfContents></nav></nav></aside><article class=dsa-single><h1></h1><div class=dsa-meta><p><strong>Difficulty:</strong> <span class=difficulty->N/A</span> |
<strong>Solved:</strong> January 1, 0001</p></div><div class=dsa-content><p>[[Dynamic Programming Primer]]</p><h1 id=problem>Problem</h1><p>The &ldquo;Unbounded Knapsack&rdquo; Pattern.</p><p>You are given an array of coin denominations (e.g., <code>[1, 2, 5]</code>) and a total amount of money (e.g., 11). Find the <strong>fewest</strong> number of coins that you need to make up that amount. You can use each coin type as many times as you want. If it&rsquo;s impossible, return -1. its an unbounded knapsack problem because there is no contraint on how many times we can reuse the same coins
for eg to make target 3 we can
use 1 3 times ( 3 coins)
use a 1 and a 2 hence (2 coins)
the answer is 2 since thats the least number of coins we need</p><h1 id=brainstorming>Brainstorming</h1><p>In this example we want to <code>minimize</code> the number of coins to reach an amount. if we use the <code>Tabulation</code> approach then maybe we can build up our solution to the amount value. so essentially we want <code>dp[amount]</code> and we will calculate how many minimum number of coins we need to build say amount = <code>1</code> or <code>2</code> or <code>3</code> all the way to <code>dp[amount]</code> to do this we would first need to define a base case.
How many coins do we need to make amount 0?
in my opinion to make nothing you need nothing so in tabulation form <code>dp[0] = 0</code>
the next obvious question then is how many coins do we need to make amount 1 well its clear 1 since all the other coins are bigger than the amount <code>dp[1] = 1</code></p><p>Now that we have gotten our base cases ready lets see how big our state array <code>dp</code> needs to be
since we want to hold answer for <code>dp[amount]</code> it makes sense to make the <code>dp</code> array amount + 1</p><p>But now what should be the recurrence equation?
we have defined number of coins that we want to use <code>[1,2,5]</code> following the logic of &ldquo;<code>at the last step</code>&rdquo; we can just check for amount = 11</p><pre><code>if our last coin was 1 then our recurrence eq is 1 + dp[amount -1] i.e 1 + dp[10]
 if our last coin was 2 then our reccurence eq is 1 + dp[amount -2] i.e 1 + dp[9]
 if our last coin was 5 then our reccurence eq is 1 + dp[amount -5] i.e 1 + dp[5]
</code></pre><p>in all the above cases we add 1 so that the current last coin <code>[1 or 2 or 5]</code> also gets counted</p><p>now we want the minimum of the above 3 <code>min(1 + dp[10], 1+ dp[9], 1 + dp[6]</code></p><p>we now need to equate it out.</p><p>The first idea that comes to my mind is we keep a <code>current_coin_count</code> and compare it with <code>1 + dp[amt - coin]</code> a minimum of both goes in the current_coin_count that then gets assigned to <code>dp[amt]</code></p><p>we would also need to handle a edge case &ldquo;what if a subproblem is impossible?&rdquo; l
lets take an hypothetical example where the coins are <code>[2,5]</code> and we want to make <code>dp[3]</code> then its impossible so in that case we want to make sure that we write &ldquo;impossible&rdquo; to its output but how to do it in code?
 We can&rsquo;t use 0, because that&rsquo;s a valid answer. We could use -1, but a common trick is to use <strong>infinity</strong>. The minimum of anything and infinity is always the other thing, which makes the math clean.</p><p>lets try to write the algorithm</p><ol><li>initialise a <code>dp = [float("inf")] * amount+1</code></li><li>set base case <code>dp[0] = 0</code></li><li>now we will loop a for loop <code>for amt in amount + 1</code><ol><li>for each partial <code>amt</code> we will check for each coin <code>for coin in coins</code><ol><li>now for each coin we will check if they &ldquo;fit&rdquo; the amount or not <code>if amt >= coin</code><ol><li>its a potential coin !! <code>potential_coin = 1 + dp[amt - coin]</code></li></ol></li><li>now the curcial part is our potential coin making the count smaller or not<ol><li><code>dp[amt] = min(potenial_coin, dp[amt])</code> # comparing it against prev coins</li></ol></li></ol></li></ol></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>
</span></span><span style=display:flex><span>amount <span style=color:#f92672>=</span> <span style=color:#ae81ff>11</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>coins <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>5</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>coin_change</span>(amount):
</span></span><span style=display:flex><span>	dp <span style=color:#f92672>=</span> [float(<span style=color:#e6db74>&#39;inf&#39;</span>)] <span style=color:#f92672>*</span> amount <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> amt <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>1</span>, amount<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>for</span> coin <span style=color:#f92672>in</span> coins:
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>if</span> amt <span style=color:#f92672>&gt;=</span> coin:
</span></span><span style=display:flex><span>				potential_coins <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> dp[amt <span style=color:#f92672>-</span> coin]
</span></span><span style=display:flex><span>				dp[amt] <span style=color:#f92672>=</span> min(dp[amt], potenital_coints)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> dp[amount] <span style=color:#66d9ef>if</span> dp[amount] <span style=color:#f92672>!=</span> float(<span style=color:#e6db74>&#34;inf&#34;</span>) <span style=color:#66d9ef>else</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> 
</span></span></code></pre></div><p>lets see this with an example <code>5</code></p><ol><li>we start with amt 1<ol><li>for coin in coins<ol><li>coin 1 ( 2 and 5 are skipped)<ol><li>potential_coin = 1 + <code>dp[1-1]</code> i.e <code>dp[0]</code> which is 0 hence potential coin is 1</li><li><code>dp[1]</code> = min(<code>dp[1]</code>, 1) since they are both 1 hence <code>dp[1]</code> is 1</li></ol></li></ol></li></ol></li><li>we go to amt 2<ol><li>for coin in coins<ol><li>coin 1 (coin 5 skipped)<ol><li>potential_coins = 1 + <code>dp[2-1]</code> ie <code>dp[1]</code> which is 1 hence the potential coin is 2</li><li><code>dp[2]</code> = min(<code>dp[2]</code>, 2) since we don&rsquo;t have <code>dp[2]</code> yet we are comparing infinity to 2 hence min is 2 which will get assigned to <code>dp[2]</code></li></ol></li><li>coin 2<ol><li>potential_coins = 1 + <code>dp[2-2]</code> ie <code>dp[0]</code> which is 0 hence potential_coins is <code>1</code></li><li><code>dp[2]</code> = <code>min(dp[2], 1)</code> since <code>dp[2]</code> is 2 we will take 1 and assign it to <code>dp[2]</code> = 2</li></ol></li></ol></li></ol></li><li>we go to amt 3<ol><li>for coin in coins<ol><li>coin 1 (coin 5 is skipped)<ol><li>potential_coins = 1 + <code>dp[3-1]</code> ie <code>dp[2]</code> which is 1 hence the potential_coins is 2</li><li><code>dp[3] = min(dp[3], 2)</code> since we don&rsquo;t have <code>dp[3]</code> yet we are comparing infinity to 2 hence for <code>dp[3]</code> we are going to assign 2</li></ol></li><li>coin 2<ol><li>potential_coins = 1 + <code>dp[3-2]</code> i.e <code>dp[1]</code> which is 1 hence the potential coins is 2</li><li><code>dp[3]</code> = <code>min(dp[3], 2)</code> since they both are 2 hence the final value for <code>dp[3]</code> is 2</li></ol></li></ol></li></ol></li><li>we go to amt 4<ol><li>for coin in coins<ol><li>coin 1 ( coin 5 is skipped)<ol><li>potential_coins = 1 + <code>dp[4-1]</code> ie <code>dp[3]</code> which is 2 hence the potential_coins is 3</li><li><code>dp[4] = min(dp[4], 3)</code> since we don&rsquo;t have <code>dp[4]</code> yet we are comparing infinity with 3 hence 3 gets assigned to <code>dp[4]</code></li></ol></li><li>coin 2<ol><li>potential_coins = 1 + <code>dp[4-2]</code> ie <code>dp[2]</code> which is 2 hence the potential coins is 3</li><li><code>dp[4] = min(dp[4], 3)</code> since they both are 3 hence the final value for <code>dp[4]</code> is 3</li></ol></li></ol></li></ol></li><li>we go to amt 5<ol><li>for coin in coins<ol><li>coin 1<ol><li>potential_coins = 1 + <code>dp[5-1]</code> ie <code>dp[4]</code> which is 3 hence potential_coins is 3</li><li><code>dp[5]</code> = <code>min(dp[5] , dp[4])</code> since we don&rsquo;t have <code>dp[5]</code> yet we are comparing infinity with 3 hence 3 gets assigned to <code>dp[5]</code></li></ol></li><li>coin 2<ol><li>potential_coins = 1 + <code>dp[5-2]</code> ie <code>dp[3]</code> which is 2 hence the potential_coins is 2</li><li><code>dp[5] = min(dp[5], 2)</code> since 2 is smaller than 3 the new value for <code>dp[5]</code> is 2</li></ol></li><li>coin 5<ol><li>potential_coins = 1 + <code>dp[5-5]</code> ie <code>dp[0]</code> which is 0 hence the potential coins is 1</li><li><code>dp[5] = min(dp[5], 1)</code> so the current value is 2 and the new potential value is 1 , obviously since 1 is small that gets assigned to <code>dp[5]</code></li></ol></li></ol></li></ol></li></ol><p>hence for <code>dp[5]</code> the answer is 1 is the minimum number of coins we need to make this amount</p></div></article></div></main><footer><p>&copy; 2025 Deepanshu Kandpal</p></footer><a id=scrollTopBtn title="Go to top"><i class="fa-solid fa-arrow-up"></i></a>
<script src=/js/search.js></script><script>var mybutton=document.getElementById("scrollTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.classList.add("show"):mybutton.classList.remove("show")}mybutton.onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script>document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("code.language-mermaid");e.forEach(function(e,t){const n=document.createElement("div");n.className="mermaid",n.textContent=e.textContent,n.id="mermaid-"+t,e.parentNode.parentNode.replaceChild(n,e.parentNode)}),mermaid.initialize({startOnLoad:!0,theme:"default",themeVariables:{primaryColor:"#4a90e2",primaryTextColor:"#333",primaryBorderColor:"#4a90e2",lineColor:"#333"}}),mermaid.init()})</script></body></html>